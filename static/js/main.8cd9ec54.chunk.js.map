{"version":3,"sources":["logo.svg","components/AddBusiness.js","services/services.js","components/Searchpage.js","components/Business.js","components/Home.js","components/Login.js","App.js","reportWebVitals.js","index.js"],"names":["AddBusiness","props","onInputChange","event","value","target","name","setState","onSubmit","console","log","state","finished","s","b","id","active","address","city","zip","phone","update","services","updatebusiness","addbusiness","preventDefault","location","allbusinesses","then","x","json","bs","find","bsz","catch","e","this","to","className","type","placeholder","onChange","React","Component","businesses","findbusinesses","text","api","fetch","business","method","headers","body","JSON","stringify","deletebusiness","businessbyid","addreview","review","get_reviews","join","Searchpage","showbusiness","livesearch","searchtext","citysearch","statesearch","delete","getAttribute","forceUpdate","buslist","busdiv","map","pathname","onClick","searchcity","searchstate","length","Business","reviewclick","reviewinp","get_bus","allbs","filter","ids","indexOf","reviewtext","reviewchange","divs","i","rdivs","reviews","push","concat","r","style","background","border","Home","login","showLoginForm","username","user","Login","trim","authenticated","from","App","backgroundImage","backgroundSize","objectFit","basename","process","exact","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8cd9ec54.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","import React from 'react';\nimport {\n    BrowserRouter,\n    Switch,\n    Route,\n    Link,\n    Redirect\n  } from \"react-router-dom\";\nimport services from \"../services/services\"\nimport { render } from 'react-dom';\nexport default class AddBusiness extends React.Component{\n    constructor(props){\n        super(props)\n        console.log(\"AddBusiness:\",props)\n        \n        this.state ={finished: false, name: \"\",\n            address: \"\",city: \"\",state:\"\",zip:\"\", phone: \"\"}\n        if (props.update){\n            this.state.update = true\n            const id = props.location.state.id\n            console.log(\"Updating id:\",id)\n            services.allbusinesses().then(x => x.json())\n            .then(bs =>{\n                console.log(\"bs\",bs);\n                let b = bs.find(bsz => bsz.id == id)\n                this.setState({\n                    id : b.id,\n                    name : b.name,\n                    address : b.address,\n                    city : b.city,\n                    state : b.state,\n                    zip : b.zip,\n                    phone : b.phone\n                })\n            })\n            .catch(e => console.log(\"Fetch Failed\",e))\n            \n        }\n    }\nonInputChange = (event) => {\n        const value = event.target.value;\n        const name = event.target.name;\n        this.setState({ [name]: value });\n    }\nonSubmit = (event) => {\n        console.log('State:',this.state)\n        this.setState({finished: true})\n        const s = this.state\n        const b = {id : s.id,name: s.name, active: s.active , address: s.address,city: s.city,state : s.state,zip: s.zip, phone: s.phone}\n        if (this.state.update){\n            services.updatebusiness(b)\n        }\n        else {\n            services.addbusiness(b)\n        }\n        event.preventDefault();\n    }\n\nrender(){\n    if (this.state.finished){\n        return (\n            <Redirect to=\"/\" /> \n        )\n    }\n    return (\n        <div className=\"Add\">\n            {this.state.update ? \"Update Business\": \"Add Business\"}\n            <form onSubmit={this.onSubmit}>\n                \n                <input\n                    type=\"text\"\n                    name=\"name\"\n                    value={this.state.name}\n                    placeholder = \"Business Name\"\n                    onChange={this.onInputChange}\n                ></input>\n            \n            <input\n                type=\"text\"\n                name=\"address\"\n                value={this.state.address}\n                placeholder = \"Address\"\n                onChange={this.onInputChange}\n            ></input>\n            <input\n                type=\"text\"\n                name=\"city\"\n                value={this.state.city}\n                placeholder = \"City\"\n                onChange={this.onInputChange}\n            ></input>\n            <input\n                type=\"text\"\n                name=\"state\"\n                value={this.state.state}\n                placeholder = \"State\"\n                onChange={this.onInputChange}\n            ></input>\n            <input\n                type=\"text\"\n                name=\"zip\"\n                value={this.state.zip}\n                placeholder = \"Zip\"\n                onChange={this.onInputChange}\n            ></input>\n            \n            <input\n                type=\"text\"\n                name=\"phone\"\n                value={this.state.phone}\n                placeholder = \"Phone\"\n                onChange={this.onInputChange}\n            ></input>\n            <button type=\"submit\">Save Business</button>\n    \n        </form>\n    </div>\n    )\n    \n}\n}","import AddBusiness from \"../components/AddBusiness\";\n \nlet businesses = [\n   \n]\nfunction strinc (str,inc){\n    return (\n    str.toLowerCase().includes(inc.toLowerCase())\n    )\n}\nconst services = {\n    findbusinesses:(text,city,state) => {\n        const api = `https://cjgroff-nearbyplaces-api.herokuapp.com/search/${text}/${city},${state}`\n        console.log('api',api)\n        //fetch(api).then(x => x.json()).then(y => {this.setState({quiz: y});\n        //    console.log(\"quiz\",y)}).catch(e => console.log(\"Fetch quiz error\",e))\n        return fetch(api)\n        if (text == \"\"){\n            return []\n        }\n        let x = businesses.filter(b => strinc(b.name,text) && strinc(b.city,city) && strinc(b.state,state))\n        if (x){\n            return x\n        }\n        else{\n            return []\n        }\n    \n   // return(\n   //     businesses.slice(0,text.length)\n   // )\n    },\n    addbusiness:(business) => {\n        const api = `https://cjgroff-nearbyplaces-api.herokuapp.com/place`\n        fetch(api,{\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(business)}\n        ).catch(e => console.log(\"Error\",e))\n    },\n    updatebusiness:(business) => {\n        business.update = true\n        console.log(\"updatebus####:\",business)\n        services.addbusiness(business)\n    },\n    deletebusiness:(id) => {\n        console.log(\"Deleteplace\",id)\n        const api = `https://cjgroff-nearbyplaces-api.herokuapp.com/place/${id}`\n        return fetch(api,{\n            method: \"DELETE\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            }\n        )\n    }\n    ,\n    allbusinesses:() => {\n        //const api = `https://cjgroff-imagequiz.herokuapp.com/quiz/${this.state.quiznum}`\n        const api = \"https://cjgroff-nearbyplaces-api.herokuapp.com/places\"\n        console.log('api',api)\n        //fetch(api).then(x => x.json()).then(y => {this.setState({quiz: y});\n        //    console.log(\"quiz\",y)}).catch(e => console.log(\"Fetch quiz error\",e))\n        return fetch(api)\n        //This fetch return promise on which we can call then()\n       \n    },\n    businessbyid:(id) => {\n        //return businesses.filter((b) => b.id == id)[0]\n        return businesses[id]\n    },\n    addreview:(id,review) => {\n        console.log(\"addreview\",id,review)\n        const api = `https://cjgroff-nearbyplaces-api.herokuapp.com/review/${id}`\n        return fetch(api,{\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({review: review})}\n        )\n    },\n    get_reviews:(bs) => {\n        const api = `https://cjgroff-nearbyplaces-api.herokuapp.com/reviews/${bs.join(\",\")}`\n        console.log('api',api)\n        return fetch(api)\n    }\n    \n\n}\nexport default services;","import React from 'react';\nimport {\n    BrowserRouter,\n    Switch,\n    Route,\n    Link,\n    Redirect\n  } from \"react-router-dom\";\nimport services from \"../services/services\"\n  class Searchpage extends React.Component{\n    constructor(props){\n        super(props)\n        //console.log(\"Home ctor,props\",props)\n        this.state = {searchtext:\"\",businesses:[], showbusiness: false, city:\"\", state: \"\"}\n        \n    }\n    onSubmit = (event) => {\n        this.setState({showbusiness: true}) \n        event.preventDefault();\n    }\n    livesearch = (event) => {\n        const text = event.target.value;\n        this.setState({searchtext: text})\n        \n        if (text == '')\n        {\n            this.setState({businesses: []})\n            return \n        }\n        /*const businesses = services.findbusinesses(text,this.state.city,this.state.state)\n        console.log(\"Bus:\",businesses)\n        this.setState({ businesses: businesses,searchtext: text});*/\n         services.findbusinesses(text,this.state.city,this.state.state).then(x => x.json())\n         .then(b =>{console.log(\"b\",b);this.setState({businesses:b})})\n         .catch(e => console.log(\"Fetch Failed\",e))\n\n    }\n    citysearch = (event) => {\n        const text = event.target.value;\n        this.setState({ city: text,});\n    }\n    statesearch =  (event) => {\n        const text = event.target.value;\n        this.setState({ state: text,});\n    }\n\n    delete = (event) => {\n        console.log(\"delete\", event.target.getAttribute(\"business\"))\n        services.deletebusiness(event.target.getAttribute(\"business\"))\n        this.forceUpdate()\n    }\n    \n    render(){\n        //console.log(services.allbusinesses())\n        const buslist= this.state.businesses//.filter(b => b.active)\n        const busdiv= buslist.map(\n            (b) => <div>\n                {b.name}, {b.address}, {b.city}, {b.state} {b.zip}, {b.phone} |\n                <Link\n                    to={{\n                    pathname: \"/update\",\n                    state: { id: b.id }\n                }}\n             > Update</Link>\n            | <a  onClick={this.delete} business= {b.id} > Delete</a> |\n            </div>\n        )\n        \n        \n        if (this.state.showbusiness) {\n            const bs = buslist.map(b => b.id)\n            console.log('bs:', bs)\n            let to= {pathname: '/business', state: { bs: bs } };\n            return (\n                <Redirect to={to} />\n            );\n\n        }\n\n        \n        return(\n        <div className= \"searchbar\" >\n             \n                <form onSubmit={this.onSubmit}>\n                    <p>Where should I look?</p>\n                    <input\n                        type=\"text\"\n                        value={this.state.searchcity}\n                        placeholder = \"What city are you in?\"\n                        onChange={this.citysearch}\n                    ></input>\n                    <div>\n                    <input\n                        type=\"text\"\n                        value={this.state.searchstate}\n                        placeholder = \"What state are you in?\"\n                        onChange={this.statesearch}\n                    ></input>\n                    \n                    <br/>\n                    <p>What should I look for?</p>\n                    <input\n                        type=\"text\"\n                        value={this.state.searchtext}\n                        placeholder = \"What are you looking for?\"\n                        onChange={this.livesearch}\n                    ></input>\n                    \n                    <button type=\"submit\">Search</button>\n                    </div>\n                    \n                    \n                    \n                    \n                    \n\n                </form>\n                {busdiv.length == 0 ? \"No Results found\" : <div>Results: {busdiv.length}</div> }\n                \n                {busdiv}\n\n        </div>\n        )\n    }\n}\nexport default Searchpage;\n//testing","import React from 'react';\nimport services from \"../services/services\"\nexport default class Business extends React.Component{\n    constructor(props){\n        super(props)\n        console.log(\"business ctor,props\",props)\n        this.state = {ids: props.location.state.bs, reviewinp: null, reviewtext: \"\", businesses: []}\n        this.get_bus()\n        /*services.allbusinesses().then(x => x.json())\n            .then(allbs => {\n                console.log(\"allbs\",allbs);\n                let bs = allbs.filter(b => this.state.ids.indexOf(b.id) != -1)\n                this.setState({businesses: bs})\n                })*/\n\n    }\n    reviewclick = (event) =>{\n        console.log(\"event:\", event,\"bussiness:\",event.target.getAttribute(\"business\") )\n        this.setState({reviewinp: event.target.getAttribute(\"business\")})\n        console.log(\"review click:\",this.state) \n    }\n    get_bus = () => {\n        services.allbusinesses().then(x => x.json())\n            .then(allbs => {\n                console.log(\"get_bus, allbs\",allbs);\n                let bs = allbs.filter(b => this.state.ids.indexOf(b.id) != -1)\n                this.setState({businesses: bs})\n                })\n    }\n    onSubmit = (event) => {\n        console.log(\"sumbit review:\",this.state.reviewinp)\n        services.addreview(this.state.reviewinp,this.state.reviewtext).then(this.get_bus)\n        this.setState({reviewinp: null})\n        event.preventDefault();\n        this.forceUpdate()\n    }\n    reviewchange = (event) => {\n        const value = event.target.value;\n        this.setState({reviewtext: value})\n    }\n    render(){\n        const bs = this.state.businesses\n        const divs =[] \n        for (let i = 0; i < bs.length ; i++){\n            const b = bs[i]\n            let rdivs = []\n            if (b.reviews.length == 0){\n                rdivs.push(<div>Be the first to review!</div>)\n            }\n            else{ \n                rdivs.push(<div>Reviews</div>)\n                rdivs= rdivs.concat(b.reviews.map((r) => <div> <span  style= {{\n                    background: \"white\", border: \"1\"\n                }}>\"{r}\"</span> </div>))\n            }\n            \n            divs.push(<div>{b.name},{b.address}<br/>{rdivs}<button onClick={this.reviewclick}  business= {b.id}>Review</button></div>)\n            \n        }\n        //const review_divs = bs.map(b) <div></div>\n        return (\n            <div>\n            {divs}\n            {this.state.reviewinp ? <form onSubmit= {this.onSubmit}> <input onChange= {this.reviewchange} type = \"text\" /> <button type =\"submit\"> Post Review</button> </form> : \"\" }\n            </div>\n            \n        \n\n        )\n    }}\n","import React from 'react';\nimport {\n    BrowserRouter,\n    Switch,\n    Route,\n    Link\n  } from \"react-router-dom\";\nimport Searchpage from \"./Searchpage\"\nimport Business from './Business';\n\nclass Home extends React.Component{\n    constructor(props){\n        super(props)\n        //console.log(\"Home ctor,props\",props)\n        this.state = {showLoginForm: true}\n    \n\n    }\n    \n    login = ()=>{\n        this.setState({showLoginForm: false}) \n    }\n    render(){\n       \n       let username = '';\n        const location = this.props.location;\n        if (location) {\n            console.log(location);\n            if (location.state) {\n                if (location.state.user) {\n                    username = location.state.user;\n                }\n            }\n        }\n\n        return (\n            \n            <div>\n                <div className=\"loginButton\">\n                    {username.length > 0 ? \n                    <div>\n                    <Link to='/add'>Add Business</Link> { username}\n                    </div>\n                    :<Link to='/login'>Login</Link>}\n\n                </div>\n                \n                <div>\n                    <Searchpage/>\n                </div>\n            </div>\n        )\n    }\n}\n\n\nexport default Home;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport '../App.css';\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: '',\n            authenticated: false\n        };\n    }\n\n    onSubmit = (event) => {\n        if (this.state.username.trim().length > 0) {\n            this.setState({ authenticated: true });\n        }\n        event.preventDefault();\n    }\n\n    onInputChange = (event) => {\n        const value = event.target.value;\n        const name = event.target.name;\n        this.setState({ [name]: value });\n    }\n\n    render() {\n        let from = { pathname: '/', state: { user: this.state.username } };\n\n        if (this.state.authenticated) {\n            return (\n                <Redirect to={from} />\n            );\n\n        }\n\n        return (\n            <div className=\"login\">\n                <form onSubmit={this.onSubmit}>\n                    <label>Username:</label>\n                    <input\n                        type=\"text\"\n                        name=\"username\"\n                        value={this.state.username}\n                        onChange={this.onInputChange}\n                    ></input>\n                    <button type=\"submit\">Login</button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default Login;\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Home from './components/Home'\nimport {\n  BrowserRouter,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport Login from './components/Login';\nimport AddBusiness from \"./components/AddBusiness\"\nimport Business from './components/Business';\n\n\nfunction App() {\n  return (\n    <div style={{  \n      backgroundImage: \"url(\" + process.env.PUBLIC_URL  + '/images/coffee.jpg' + \")\", backgroundSize: 'cover',objectFit: 'cover'}}>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route exact path='/' render={props => <Home {...props} />}/>\n        <Route path='/login' >\n          <Login className=\"login\" />\n        </Route>\n        <Route path='/add' render={props => <AddBusiness {...props} />}/>\n        <Route path='/update' render={props => <AddBusiness update=\"true\" {...props} />}/>\n        <Route path='/business' render={props => <Business  {...props} />}/>\n        {/*<Route path='/quiz' render={props => <Quiz {...props} />}/>\n        <Route path='/imagesquiz' render={props => <Imagesquiz {...props} />}/>*/}\n      </Switch>\n    </BrowserRouter>\n    </div>\n  );\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App  />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}